# 像素 

## 	前置知识 👨🏻‍🎓

### 看图 👀

逻辑像素(points)、渲染像素(Rendered Pixels)、物理像素(Physical Pixels) 关系如图👇

<img src="https://raw.githubusercontent.com/NorthwesternDirector/myGitBook/master/%E5%85%B6%E4%BB%96/%E5%BC%95%E5%85%A5%E5%9B%BE%E7%89%87/www.paintcodeapp.com_news_ultimate-guide-to-iphone-resolutions%20(1).png"/>

[图片参考地址](https://www.paintcodeapp.com/news/ultimate-guide-to-iphone-resolutions)

#### 逻辑像素 (point)

一开始，所有图形的坐标都是以点这个抽象单位为单位的，它们只有在这个数学坐标空间中才有意义。它是一个抽象的概念，这个单位就是ios开发的px，安卓开发的dp。对于pc，包括win（8+） linux，mac，由各自系统的或者对应软件（比如webview内部）提供的图像界面处理引擎处理进行缩放。

* 各种设备，手机，平板，笔记本等逻辑像素
  * 手机：逻辑像素在3xx-4xx（短边）之间
  * 平板：10寸平板7xx-8xx（短边）
  * 笔记本：13寸 1280 （长边）
  * 24寸显示屏：1920（长边）

你会发现如果设置 width=device-width 下，无论是否高分屏，在浏览器得到的 screen.width 仍然符合上述的尺寸

逻辑像素的引入，简单来说 ***就是为了消除了不同屏幕观看距离和不同 PPI 之间的差异，衍生出来的一个虚拟的尺寸***

#### 渲染像素 (Rendered Pixels)

渲染像素则是在系统内部对物理像素的分配进行再一次的调整，在 PC 上，渲染像素其实就是设置里边的分辨率。对于显示设备，系统为显示设备提供渲染尺寸，由显示设备的“缩放引擎”（带存储器阵列的数字视频处理器）处理。这种“缩放引擎”一般内部有一系列的合理分辨率和一个推荐分辨率。一般推荐分辨率就是最大渲染像素，也是设备的物理分辨率（为了最佳表现）。这是一个软硬件（偏硬）结合的缩放方案。由于部分设备不能设置渲染像素，故直接等同于物理像素。

渲染像素是基于点图形渲染为像素，这个过程被称为光栅化。点坐标乘以比例因子得到像素坐标。比例因子越大，细节层次越高

#### 物理像素 (Physical Pixels)

物理像素就是反映显示屏的硬件条件，反映的就是显示屏内部 LED 灯的数量，可以简单理解，一组三色 LED 代表一个物理像素，当然根据屏幕物理属性以及处理 LED 的方法不一样。强调这是物理的，是一个纯硬件指标：***比如我把屏幕锯了一半物理像素就只有一半*** 🌝。

设备屏幕的像素分辨率可能低于上一步骤中渲染的图像，在显示图像之前，必须对其进行降采样（调整大小）以降低像素分辨率。

#### PPI (Pixel Per Inch)

每英寸像素，指的是屏幕在每英寸的**物理像素**，更高的PPI意味着屏幕的清晰度更佳

* 以单位 HP E243 为例，屏幕尺寸为23.8英寸，分辨率为1920*1080 ，PPI= Math.sqrt(Math.pow(1920,2)+Math.pow(1080,2))/23.8 = 92.6

#### 视网膜屏

指在该观看距离内超出人类的辨认能力的屏幕。对于桌面设备，大于192ppi。对于移动设备大于326ppi

#### DPR (devicePixelRatio)

**DPR=渲染像素 / 逻辑像素**。即渲染像素与逻辑像素的比例。多少倍屏或者多少x（三倍屏，3x，意思就是3DPR），一般来说就是说的是这个值
tips🙋🏻‍♂️：在浏览器中输入 devicePixelRatio 即可查看当前的DPR；当调整系统或浏览器缩放比例时，该值都会变化：变化趋势为，相较于正常大小，放大的越大，此比例值越大（放的越大渲染一个小方块就需要更多的像素）

#### viewport 像素

它本质是DIP（Device Independent Pixels），中文意思设备无关像素，**是与上述所有像素都无绝对逻辑关系的一个单位**。其实是浏览器内部对**逻辑像素**进行再处理的结果，简单来理解就是调整逻辑像素的缩放来达到适应设备的一个中间层。

对于PC，viewport 是不生效的，***所以在 PC 上，px 其实就是逻辑像素（Chrome）***。但是逻辑像素是与软件实现有关的，所以会出现一些问题。比如在win上，对于部分国产马甲浏览器，viewport内部没有适配系统的缩放等级，导致渲染的内容过小

## 面向逻辑像素开发

开发流程

1. 在head 设置 width=device-width 的 viewport（让 viewport 的尺寸等于**逻辑像素**的尺寸）

2. 在css中使用px

3. 在适当的场景使用flex布局，或者配合vw进行自适应

4. 在**跨设备类型的时候**（pc <-> 手机 <-> 平板）使用媒体查询

5. 在跨设备类型如果交互差异太大的情况，考虑分开项目开发









